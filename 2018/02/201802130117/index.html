<!DOCTYPE html>
<html lang="zh-cn">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="author" content="RGM">
  <meta name="keywords" content="前端,front end,javascript,js,css,html,node">
  <meta name="description" content="RGM的个人博客，分享自己的学习与理解">
  <title>RGM's BLOG</title>
  <link rel="stylesheet" href="/css/main.min.css">
</head>
<body>
  <div class='main full-width'>
    <header>
  <a href="/" class="brand">RGM's BLOG</a>

  <span class="about-me">About me
</span></header>

<nav class="top-nav">
  <ul class="nav">
  

  
    <li>
      <a href="/" class="current">我的随笔</a>
    </li>
  
  </ul>
</nav>


    <article class="article-main">
  <div class="article-title">
    <h1 class="title">JS模拟鼠标事件</h1>
  </div>
  <div class="article-meta">
  
    <span class="article-time">Tuesday, 13 Feb 2018</span>
  </div>
  <div class="article-content">
    <p>在JS中模拟事件需要在document对象上使用createEvent()方法创建event对象，该方法只有一个参数，为字符串，但这个字符串的值非常多，都是事件的种类，比较常用的是鼠标事件</p>
<pre><code class="javascript">var mouseEvent = document.createEvent(&quot;MouseEvent&quot;);
</code></pre>
<p>创建事件对象后需要使用不同事件对应的初始化方法进行初始化<br>模拟鼠标事件的初始化事件对象方法是initMouseEvent()<br>其参数及含义：<br>type（字符串）：       表示要触发的事件类型，例如”click”<br>bubbles（布尔值）：    表示事件是否应该冒泡<br>cancelable（布尔值）： 表示事件是否可以取消<br>view（AbstractView）： 与事件关联的视图，几乎总要设置为document.defaultView<br>detail（整数）：       与事件有关的详细信息，通常设为0<br>screenX（整数）：      事件相对于屏幕的X坐标<br>screenY（整数）：      事件相对于屏幕的Y坐标<br>clientX（整数）：      事件相对于视口的X坐标<br>clientY（整数）：      事件相对于视口的Y坐标<br>ctrlKey（布尔值）：    是否按下了Ctrl键，默认值为false<br>altKey（布尔值）：     是否按下了Alt键，默认值为false<br>shiftKey（布尔值）：   是否按下了shift键，默认值为false<br>metaKey（布尔值）：    是否按下了Meta键，默认值为false<br>button（整数）：       表示按下了哪个鼠标键，默认为0<br>relatedTarget（对象）：与事件相关的对象，只在模拟mouseover或mouseout时使用</p>
<pre><code class="javascript">mouseEvent.initMouseEvent(&quot;click&quot;, true, true, document.defaultView, 0, 0, 0, 0, 0, false, false, false, false, 0, null);
</code></pre>
<p>最后还需要调用dispatchEvent()方法触发事件：</p>
<p>完整代码：</p>
<p>html:</p>
<pre><code class="html">&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;
</code></pre>
<p>css:</p>
<pre><code class="css">.box{
    width: 100px;
    height: 100px;
    background-color: #00a0ff;
}
</code></pre>
<p>js:</p>
<pre><code class="javascript">(function () {
    var box = document.getElementsByClassName(&quot;box&quot;)[0];
    box.addEventListener(&quot;click&quot;, function(){
        console.log(&quot;on click&quot;);
    }, false);

    // 创建事件对象
    var mouseEvent = document.createEvent(&quot;MouseEvent&quot;);

    // 初始化事件对象
    mouseEvent.initMouseEvent(&quot;click&quot;, true, true, document.defaultView, 0, 0, 0, 0, 0, false, false, false, false, 0, null);

    // 触发事件
    box.dispatchEvent(mouseEvent);
})();
</code></pre>
<p>触发事件后会在控制台输出”on click”，证明click事件成功被模拟并触发</p>

  </div>
</article>
<!-- Highlight.js -->
<link rel="stylesheet" href="/css/atom-one-dark.min.css">
<script src="/js/highlight.pack.min.js"></script>
<script>
  (function(){
    hljs.initHighlightingOnLoad();

    var articleContent = document.getElementsByClassName('article-content')[0];
    setTimeout(function () {
      articleContent.className = "article-content article-content-come";
    }, 100);
  })();
</script>

    
  </div>
  <div class='me'>
    <img alt="avatar" class='avatar'>
    <p class='me-p'>Live by the sword and die by the sword.</p>
    <div class='links'>
      <a href='https://github.com/RGM-89sc' target='_blank' class='link github-link' title='github'></a>
      <a href='mailto:171716669@qq.com' class='link mail-link' title='mail'></a>
    </div>
  </div>
  <script src="/js/main.min.js"></script>
  
</body>
</html>