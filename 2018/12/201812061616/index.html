<!DOCTYPE html>
<html lang="zh-cn">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="author" content="RGM">
  <meta name="keywords" content="前端,front end,javascript,js,css,html,node">
  <meta name="description" content="RGM的个人博客，分享自己的学习与理解">
  <title>RGM's BLOG</title>
  <link rel="stylesheet" href="/css/main.min.css">
</head>
<body>
  <div class='main full-width'>
    <header>
  <a href="/" class="brand">RGM's BLOG</a>

  <span class="about-me">About me
</span></header>

<nav class="top-nav">
  <ul class="nav">
  

  
    <li>
      <a href="/" class="current">我的随笔</a>
    </li>
  
    <li>
      <a href="/tags/" class="">我的标签</a>
    </li>
  
  </ul>
</nav>


    
    <article class="article-main">
  <div class="article-title">
    <h1 class="title">使用Node JS在控制台打印自定义前/后景颜色的字符串</h1>
  </div>
  <div class="article-meta">
  
    <span class="article-time">Thursday, 06 Dec 2018</span>
    
    <div class="tags">
      <span>Tags: </span>
      
        <a href="/tags/Node-js/" style="background-color: #76ae65; color: #fff">
          Node.js
        </a>
      
        <a href="/tags/ANSI/" style="background-color: #e9e9e9; color: #000">
          ANSI
        </a>
      
    </div>
    
  </div>
  <div class="article-content">
    <p>今天在用node JS写一个小工具的时候突然觉得在控制台打印文本内容的时候可以试试打印一下不同颜色的字体，所以上网查了一下，发现也不是很复杂</p>
<p>要达到更改颜色的目的需要使用 ANSI转义序列 ，可以更改两种颜色：前景色和背景色，更改的颜色分为3种：3/4位、8位、24位。</p>
<p>首先先来说一下3/4位，这是最初的一个规格，兼容性良好，只有8种颜色+8种亮色（30-37为前景色，40-47为背景色），但在不同终端显示的颜色可能不太一样（具体表现可查看文末参考链接）</p>
<p>使用方法：</p>
<pre><code class="javascript">// 修改前景色
console.log(&#39;\x1b[36m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);

// 修改背景色
console.log(&#39;\x1b[46m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);
</code></pre>
<p>\x1b 表示16进制码1b，1b对应ascii码是ESC；控制码\x1b[0m是重置所有属性，\x1b[36m是更改3/4位前景色为青色，\x1b[46m则是更改3/4位背景色为青色。</p>
<p>8位：</p>
<p>拥有256种颜色，但兼容性欠佳</p>
<p>语法：</p>
<p>ESC[38;5;&lt;n&gt;m选择前景色<br>ESC[48;5;&lt;n&gt;m选择背景色</p>
<p>其中n的取值：</p>
<p>0 - 7：标准颜色（同ESC [ 30–37 m）</p>
<p>8 - 15：高强度颜色（同ESC [ 90–97 m）</p>
<p>16 - 231：6 × 6 × 6 立方（216色）: 16 + 36 × r + 6 × g + b (0 ≤ r, g, b ≤ 5)</p>
<p>232 - 255：从黑到白的24阶灰度色</p>
<p>使用方法：</p>
<pre><code class="javascript">console.log(&#39;\x1b[38;5;46m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);
console.log(&#39;\x1b[48;5;46m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);
</code></pre>
<p>24位：</p>
<p>使用rgb定义颜色，语法：</p>
<p>ESC[38;2;&lt;r&gt;;&lt;g&gt;;&lt;b&gt;m选择RGB前景色<br>ESC[48;2;&lt;r&gt;;&lt;g&gt;;&lt;b&gt;m选择RGB背景色</p>
<p>使用方法：</p>
<pre><code class="javascript">console.log(&#39;\x1b[38;2;100;100;255m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);
console.log(&#39;\x1b[48;2;100;100;255m %s \x1b[0m %s&#39;, &#39;INFO&#39;, &#39;doing something...&#39;);
</code></pre>
<p>以上代码的效果：</p>
<p><img src="/img/2018/12/06/20181206-1.png" alt=""></p>
<hr>
<p>参考链接：<a href="https://en.wikipedia.org/wiki/ANSI_escape_code#Colors" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/ANSI_escape_code#Colors</a></p>

  </div>
</article>
<div class="end-line"></div>
<!-- Highlight.js -->
<script src="/js/highlight.pack.min.js"></script>
<link rel="stylesheet" href="/css/atom-one-dark.min.css">
<script>
  (function () {
    // 代码高亮初始化
    hljs.initHighlightingOnLoad();

    // 文章内容渐入
    var articleContent = document.getElementsByClassName('article-content')[0];
    setTimeout(function () {
      articleContent.className = "article-content article-content-come";
    }, 100);

    // 以下是文章内容中图片的查看
    var imgs = document.getElementsByClassName('article-content')[0].getElementsByTagName('img'),
      imgView = document.createElement('div'),
      imgViewImg = document.createElement('img');

      imgView.appendChild(imgViewImg);
      imgView.className = 'img-view';

    // 打开图片后禁止触摸下拉上拉动作
    function preventTouchStart (event) {
      event.preventDefault();
    }

    // 新窗口打开图片
    function openImg (event) {
      document.body.addEventListener('touchstart', preventTouchStart);
      document.body.style.paddingRight = window.innerWidth - document.body.offsetWidth + 'px';  // 滚动条宽度
      document.body.style.overflow = 'hidden';
      imgViewImg.src = event.target.src;
      document.body.appendChild(imgView);
      setTimeout(function () {
        imgView.className = 'img-view img-view-open';
      }, 0);
    }

    // 关闭图片
    function closeImg (event) {
      event.stopPropagation();  // 阻止冒泡，防止点到遮罩层下的东西
      imgView.className = 'img-view';
      document.body.removeEventListener('touchstart', preventTouchStart);
      document.body.style.overflow = '';
      document.body.style.paddingRight = '';
      setTimeout(function () {
        document.body.removeChild(imgView);
      }, 300);
    }

    Array.prototype.forEach.call(imgs, function (img) {
      img.addEventListener('click', openImg);
    });
    
    imgView.addEventListener('click', closeImg);
  })();
</script>
    

    
<script>
  (function () {
    // 渐入动画
    var posts = document.getElementsByClassName('post'),
      pageNav = document.getElementsByClassName('page-nav')[0];

    Array.prototype.forEach.call(posts, function (post, index) {
      setTimeout(function () {
        post.className = "post post-come";

        if (index >= posts.length - 1 && pageNav) {
          setTimeout(function () {
            pageNav.className = "page-nav page-nav-come";
          }, 500);
        }
      }, index === 0 ? 0 : index * 100);
    });
  })();
</script>
  </div>
  <div class="me">
  <img alt="avatar" class="avatar">
  <p class="me-p">Live by the sword and die by the sword.</p>
  <div class="links">
    <a href="https://github.com/RGM-89sc" target="_blank" class="link github-link" title="github"></a>
    <a href="mailto:171716669@qq.com" class="link mail-link" title="mail"></a>
  </div>
  <div class="all-tags">
  <span>TAGS LIST</span>
  <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ANSI/">ANSI</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JavaScript/">JavaScript</a><span class="tag-list-count">20</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/">MySQL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Node-js/">Node.js</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/">Python</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VS-Code/">VS Code</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue-js/">Vue.js</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/内网穿透/">内网穿透</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a><span class="tag-list-count">2</span></li></ul>
  </div>
</div>
  <script src="/js/main.min.js"></script>
  
</body>
</html>